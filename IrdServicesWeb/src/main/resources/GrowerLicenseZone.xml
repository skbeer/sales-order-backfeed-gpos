<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL MAP 2.0//EN" 	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="AgreementStatus">
	<typeAlias alias="agreementStatus"
		type="com.monsanto.irdsoapservices.agreementstatus.domain.AgreementStatusInfo" />

	<resultMap id="agreementStatusResult" class="agreementStatus">
		<result property="acctId" column="ACCT_ID" />
        <result property="gln" column="GLN" />
        <result property="partnerName" column="ACCT_NAME" />
        <result property="contactName" column="CONTACT_NAME" />
        <result property="speciesCode" column="SPECIES_CODE" />
        <result property="tempAgreement.agreementName" column="AGREEMENT_NAME" />
        <result property="tempAgreement.agreementStatus" column="LICENSE_STATUS" />
        <result property="tempAgreement.licenseNumber" column="TECH_LICENSE_NUMBER" />
        <result property="tempAgreement.tempZone.zoneId" column="ZONE_CODE" />
        <result property="tempAgreement.tempZone.zoneType" column="ZONE_TYPE" />
        <result property="tempAgreement.tempZone.zoneName" column="ZONE_DESCR" />
	</resultMap>

    <select id="getAgreementStatus" resultMap="agreementStatusResult">
        SELECT  GLN,
                PURCHASER_ACCT_ID AS ACCT_ID,
                TECH_LICENSE_NUMBER,
                ACCT_NAME,
                MAILING_STATE_CODE,
                SPECIES_CODE,
                ZONE_DESCR,
                ZONE_CODE,
                'CORN TYPE' ZONE_TYPE,
                'MTA1' AGREEMENT_NAME,
                LICENSE_STATUS,
                CONTACT_FIRST_NAME ||' ' ||CONTACT_LAST_NAME AS CONTACT_NAME
        FROM    ECOM.GROWER_LICENSE_ZONE_VW
        WHERE   PURCHASER_ACCT_ID IN
                <iterate open="(" close=")" conjunction=",">
                  #[]#
                </iterate>
    </select>

</sqlMap>
